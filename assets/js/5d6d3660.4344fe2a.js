"use strict";(self.webpackChunkoptics_docs=self.webpackChunkoptics_docs||[]).push([[8244],{3905:(t,e,n)=>{n.d(e,{Zo:()=>p,kt:()=>h});var a=n(7294);function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,a)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){o(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function s(t,e){if(null==t)return{};var n,a,o=function(t,e){if(null==t)return{};var n,a,o={},r=Object.keys(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var l=a.createContext({}),c=function(t){var e=a.useContext(l),n=e;return t&&(n="function"==typeof t?t(e):i(i({},e),t)),n},p=function(t){var e=c(t.components);return a.createElement(l.Provider,{value:e},t.children)},u="mdxType",m={inlineCode:"code",wrapper:function(t){var e=t.children;return a.createElement(a.Fragment,{},e)}},d=a.forwardRef((function(t,e){var n=t.components,o=t.mdxType,r=t.originalType,l=t.parentName,p=s(t,["components","mdxType","originalType","parentName"]),u=c(n),d=o,h=u["".concat(l,".").concat(d)]||u[d]||m[d]||r;return n?a.createElement(h,i(i({ref:e},p),{},{components:n})):a.createElement(h,i({ref:e},p))}));function h(t,e){var n=arguments,o=e&&e.mdxType;if("string"==typeof t||o){var r=n.length,i=new Array(r);i[0]=d;var s={};for(var l in e)hasOwnProperty.call(e,l)&&(s[l]=e[l]);s.originalType=t,s[u]="string"==typeof t?t:o,i[1]=s;for(var c=2;c<r;c++)i[c]=n[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}d.displayName="MDXCreateElement"},5196:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>l,contentTitle:()=>i,default:()=>m,frontMatter:()=>r,metadata:()=>s,toc:()=>c});var a=n(7462),o=(n(7294),n(3905));const r={sidebar_position:1},i="Motivation",s={unversionedId:"Introduction/motivation",id:"Introduction/motivation",title:"Motivation",description:"The use of immutable state in web applications has grown in popularity in recent years in a large part due to the fact that immutability helps us track changes in our application\u2019s state, a trait that is used by React (among others) in its rendering strategy.",source:"@site/docs/Introduction/motivation.mdx",sourceDirName:"Introduction",slug:"/Introduction/motivation",permalink:"/docs/Introduction/motivation",draft:!1,editUrl:"https://github.com/TSOptics/optics-docs/edit/master/docs/Introduction/motivation.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",next:{title:"Getting Started",permalink:"/docs/Introduction/getting-started"}},l={},c=[],p={toc:c},u="wrapper";function m(t){let{components:e,...n}=t;return(0,o.kt)(u,(0,a.Z)({},p,n,{components:e,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"motivation"},"Motivation"),(0,o.kt)("p",null,"The use of immutable state in web applications has grown in popularity in recent years in a large part due to the fact that immutability helps us track changes in our application\u2019s state, a trait that is used by React (among others) in its rendering strategy.\nBut the perks of immutability don\u2019t end at UI libraries: it also makes it trivial to implement features based on history, like undo/redo or reset and, overall, immutability makes our code more predictable, composable, testable and easier to reason about when compared to uncontrolled mutability. As a consequence immutability and functional programming in general has never been more popular in the world of JavaScript application development."),(0,o.kt)("p",null,"However the language wasn\u2019t built around it and the ergonomics of immutability are often significantly worse than using a mutative approach to state."),(0,o.kt)("p",null,"First updating immutable state is hard, and it gets worse as our state grows over time. We have to make a shallow copy of every level up to the part we want to update. It drowns the signal in noise and makes it easy to introduce accidental mutations in the process, causing particularly hard to track bugs.\nAnother, possibly more problematic, issue is that composing immutable states together is hard:\nIn most non trivial applications tree-like structures are not enough and we need to represent our state as a graph, with relations between entities.\nBut unfortunately we can\u2019t just use references to represent such relations and doing so will only lead to accidental duplication.\nWhat\u2019s often done to alleviate these issues is forcefully flattening and ",(0,o.kt)("em",{parentName:"p"},"normalizing")," the state, where relations are represented with ids from other entities.\nTo consume it we then need to manually ",(0,o.kt)("em",{parentName:"p"},"denormalize")," the state, by performing what\u2019s essentially a poor man\u2019s SQL join operation without a query language and without the help of the type system."),(0,o.kt)("p",null,"The goal for this library is to bridge the ergonomics gap with mutable state while keeping the props of immutability, by bringing a concept from functional programming called Optics, and adapting it to the state management needs of modern TypeScript applications.\nAn Optic is a reference on a piece of immutable state, allowing you to read and update it but also to decompose it in smaller optics and compose them with other ones referencing different pieces of state.\nThey solve our previous issues by making it natural to represent complex state graphs and easy to update any deeply nested value, they also help us decoupling our components from our application\u2019s global state."),(0,o.kt)("p",null,"Optics are syntactically lightweight, performant and type-safe. Just like components they are small composable units that are meant to help your application scale."))}m.isMDXComponent=!0}}]);